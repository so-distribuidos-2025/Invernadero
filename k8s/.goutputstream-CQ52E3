apiVersion: v1
kind: Namespace
metadata:
  name: invernadero
---
# Servidor Mutex
apiVersion: apps/v1
kind: Deployment
metadata:
  name: server-mutex
  namespace: invernadero
spec:
  replicas: 1
  selector:
    matchLabels:
      app: server-mutex
  template:
    metadata:
      labels:
        app: server-mutex
    spec:
      containers:
        - name: server-mutex
          image: server_mutex:1.0
---
# Sistema de Fertirrigación
apiVersion: apps/v1
kind: Deployment
metadata:
  name: sistema-fertirrigacion
  namespace: invernadero
spec:
  replicas: 1
  selector:
    matchLabels:
      app: sistema-fertirrigacion
  template:
    metadata:
      labels:
        app: sistema-fertirrigacion
    spec:
      containers:
        - name: sistema-fertirrigacion
          image: sistema_fertirrigacion:1.0
---
# Electrovalvulas (7 réplicas)
apiVersion: apps/v1
kind: Deployment
metadata:
  name: electrovalvula
  namespace: invernadero
spec:
  replicas: 7
  selector:
    matchLabels:
      app: electrovalvula
  template:
    metadata:
      labels:
        app: electrovalvula
    spec:
      containers:
        - name: electrovalvula
          image: electrovalvula:1.0
---
# Controlador (3 réplicas)
apiVersion: apps/v1
kind: Deployment
metadata:
  name: controlador
  namespace: invernadero
spec:
  replicas: 3
  selector:
    matchLabels:
      app: controlador
  template:
    metadata:
      labels:
        app: controlador
    spec:
      containers:
        - name: controlador
          image: controlador:1.0
---
# Sensores Globales (iluminación, lluvia, temperatura)
apiVersion: apps/v1
kind: Deployment
metadata:
  name: sensores-globales
  namespace: invernadero
spec:
  replicas: 1
  selector:
    matchLabels:
      app: sensores-globales
  template:
    metadata:
      labels:
        app: sensores-globales
    spec:
      containers:
        - name: sensor-iluminacion
          image: iluminacion:1.0
        - name: sensor-lluvia
          image: lluvia:1.0
        - name: sensor-temperatura
          image: temperatura:1.0
---
# Sensores de Humedad (5 réplicas)
apiVersion: apps/v1
kind: Deployment
metadata:
  name: sensor-humedad
  namespace: invernadero
spec:
  replicas: 5
  selector:
    matchLabels:
      app: sensor-humedad
  template:
    metadata:
      labels:
        app: sensor-humedad
    spec:
      containers:
        - name: sensor-humedad
          image: humedad:1.0
---
# Consola (1 réplica)
apiVersion: apps/v1
kind: Deployment
metadata:
  name: consola
  namespace: invernadero
spec:
  replicas: 1
  selector:
    matchLabels:
      app: consola
  template:
    metadata:
      labels:
        app: consola
    spec:
      containers:
        - name: consola
          image: consola:1.0
---
# Temporizadores (5 réplicas)
apiVersion: apps/v1
kind: Deployment
metadata:
  name: temporizador
  namespace: invernadero
spec:
  replicas: 5
  selector:
    matchLabels:
      app: temporizador
  template:
    metadata:
      labels:
        app: temporizador
    spec:
      containers:
        - name: temporizador
          image: temporizador:1.0
